{"version":3,"sources":["../../src/controllers/payment.js"],"names":["db","require","module","exports","payment","req","res","body","id","vehicle_id","amount","card_number","cvv","expiry_date","query","query_type","sequelize","replacements","then","results","json","success","catch","err","console","log","status","getPayment"],"mappings":";;AAAA,IAAMA,KAAKC,QAAQ,WAAR,CAAX;;AAEAC,OAAOC,OAAP,CAAeC,OAAf,GAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACrC;AADqC,kBAUjCD,IAAIE,IAV6B;AAAA,+BAGnCC,EAHmC;AAAA,MAGnCA,EAHmC,gCAG9B,IAH8B;AAAA,uCAInCC,UAJmC;AAAA,MAInCA,UAJmC,wCAItB,IAJsB;AAAA,mCAKnCC,MALmC;AAAA,MAKnCA,MALmC,oCAK1B,IAL0B;AAAA,wCAMnCC,WANmC;AAAA,MAMnCA,WANmC,yCAMrB,IANqB;AAAA,gCAOnCC,GAPmC;AAAA,MAOnCA,GAPmC,iCAO7B,IAP6B;AAAA,wCAQnCC,WARmC;AAAA,MAQnCA,WARmC,yCAQrB,IARqB;AAAA,8BAWHR,IAAIS,KAXD,CAW7BC,UAX6B;AAAA,MAW7BA,UAX6B,yCAWhB,QAXgB;;AAYrCf,KAAGgB,SAAH,CACGF,KADH,qFAGI;AACEG,kBAAc;AACZT,YADY;AAEZC,4BAFY;AAGZM,4BAHY;AAIZL,oBAJY;AAKZC,8BALY;AAMZC,cANY;AAOZC;AAPY;AADhB,GAHJ,EAeGK,IAfH,CAeQ,UAACC,OAAD;AAAA,WAAab,IAAIc,IAAJ,CAAS,EAAEC,SAAS,IAAX,EAAiBF,gBAAjB,EAAT,CAAb;AAAA,GAfR,EAgBGG,KAhBH,CAgBS,UAACC,GAAD,EAAS;AACdC,YAAQC,GAAR,CAAYF,GAAZ;AACAjB,QAAIoB,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB,EAAEC,SAAS,KAAX,EAArB;AACD,GAnBH;AAoBD,CAhCD;;AAkCAnB,OAAOC,OAAP,CAAewB,UAAf,GAA4B,UAACtB,GAAD,EAAMC,GAAN,EAAc;AACxC;AADwC,mBAUpCD,IAAIS,KAVgC;AAAA,iCAGtCN,EAHsC;AAAA,MAGtCA,EAHsC,iCAGjC,IAHiC;AAAA,yCAItCC,UAJsC;AAAA,MAItCA,UAJsC,yCAIzB,IAJyB;AAAA,qCAKtCC,MALsC;AAAA,MAKtCA,MALsC,qCAK7B,IAL6B;AAAA,yCAMtCC,WANsC;AAAA,MAMtCA,WANsC,yCAMxB,IANwB;AAAA,kCAOtCC,GAPsC;AAAA,MAOtCA,GAPsC,kCAOhC,IAPgC;AAAA,yCAQtCC,WARsC;AAAA,MAQtCA,WARsC,yCAQxB,IARwB;AAAA,+BAWNR,IAAIS,KAXE,CAWhCC,UAXgC;AAAA,MAWhCA,UAXgC,0CAWnB,QAXmB;;AAYxCf,KAAGgB,SAAH,CACGF,KADH,qFAGI;AACEG,kBAAc;AACZT,YADY;AAEZC,4BAFY;AAGZM,4BAHY;AAIZL,oBAJY;AAKZC,8BALY;AAMZC,cANY;AAOZC;AAPY;AADhB,GAHJ,EAeGK,IAfH,CAeQ,UAACC,OAAD;AAAA,WAAab,IAAIc,IAAJ,CAAS,EAAEC,SAAS,IAAX,EAAiBF,gBAAjB,EAAT,CAAb;AAAA,GAfR,EAgBGG,KAhBH,CAgBS,UAACC,GAAD,EAAS;AACdC,YAAQC,GAAR,CAAYF,GAAZ;AACAjB,QAAIoB,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB,EAAEC,SAAS,KAAX,EAArB;AACD,GAnBH;AAqBD,CAjCD","file":"payment.js","sourcesContent":["const db = require(\"../models\");\n\nmodule.exports.payment = (req, res) => {\n  // const {  } = req.body;\n  const {\n    id = null,\n    vehicle_id = null,\n    amount = null,\n    card_number = null,\n    cvv = null,\n    expiry_date = null,\n\n  } = req.body;\n  const { query_type = \"create\" } = req.query;\n  db.sequelize\n    .query(\n      `call payment(:id,:query_type,:vehicle_id,:amount,:card_number,:cvv,:expiry_date)`,\n      {\n        replacements: {\n          id,\n          vehicle_id,\n          query_type,\n          amount,\n          card_number,\n          cvv,\n          expiry_date,\n        },\n      }\n    )\n    .then((results) => res.json({ success: true, results }))\n    .catch((err) => {\n      console.log(err);\n      res.status(500).json({ success: false });\n    });\n};\n\nmodule.exports.getPayment = (req, res) => {\n  // const {  } = req.body;\n  const {\n    id = null,\n    vehicle_id = null,\n    amount = null,\n    card_number = null,\n    cvv = null,\n    expiry_date = null,\n\n  } = req.query;\n  const { query_type = \"create\" } = req.query;\n  db.sequelize\n    .query(\n      `call payment(:id,:query_type,:vehicle_id,:amount,:card_number,:cvv,:expiry_date)`,\n      {\n        replacements: {\n          id,\n          vehicle_id,\n          query_type,\n          amount,\n          card_number,\n          cvv,\n          expiry_date,\n        },\n      }\n    )\n    .then((results) => res.json({ success: true, results }))\n    .catch((err) => {\n      console.log(err);\n      res.status(500).json({ success: false });\n    });\n\n};\n"]}