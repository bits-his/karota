{"version":3,"file":"payment.js","names":["db","require","module","exports","payment","req","res","_req$body","body","_req$body$id","id","_req$body$vehicle_id","vehicle_id","_req$body$amount","amount","_req$body$card_number","card_number","_req$body$cvv","cvv","_req$body$expiry_date","expiry_date","_req$query$query_type","query","query_type","sequelize","replacements","then","results","json","success","err","console","log","status","getPayment","_req$query","_req$query$id","_req$query$vehicle_id","_req$query$amount","_req$query$card_numbe","_req$query$cvv","_req$query$expiry_dat","_req$query$query_type2"],"sources":["../../src/controllers/payment.js"],"sourcesContent":["const db = require(\"../models\");\n\nmodule.exports.payment = (req, res) => {\n  // const {  } = req.body;\n  const {\n    id = null,\n    vehicle_id = null,\n    amount = null,\n    card_number = null,\n    cvv = null,\n    expiry_date = null,\n\n  } = req.body;\n  const { query_type = \"create\" } = req.query;\n  db.sequelize\n    .query(\n      `call payment(:id,:query_type,:vehicle_id,:amount,:card_number,:cvv,:expiry_date)`,\n      {\n        replacements: {\n          id,\n          vehicle_id,\n          query_type,\n          amount,\n          card_number,\n          cvv,\n          expiry_date,\n        },\n      }\n    )\n    .then((results) => res.json({ success: true, results }))\n    .catch((err) => {\n      console.log(err);\n      res.status(500).json({ success: false });\n    });\n};\n\nmodule.exports.getPayment = (req, res) => {\n  // const {  } = req.body;\n  const {\n    id = null,\n    vehicle_id = null,\n    amount = null,\n    card_number = null,\n    cvv = null,\n    expiry_date = null,\n\n  } = req.query;\n  const { query_type = \"create\" } = req.query;\n  db.sequelize\n    .query(\n      `call payment(:id,:query_type,:vehicle_id,:amount,:card_number,:cvv,:expiry_date)`,\n      {\n        replacements: {\n          id,\n          vehicle_id,\n          query_type,\n          amount,\n          card_number,\n          cvv,\n          expiry_date,\n        },\n      }\n    )\n    .then((results) => res.json({ success: true, results }))\n    .catch((err) => {\n      console.log(err);\n      res.status(500).json({ success: false });\n    });\n\n};\n"],"mappings":"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","ignoreList":[]}