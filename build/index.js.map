{"version":3,"sources":["../src/index.js"],"names":["express","require","passport","bodyParser","cors","models","app","use","json","port","process","env","PORT","static","__dirname","sequelize","sync","then","console","log","initialize","get","req","res","send","all","status","server","listen","host","address"],"mappings":";;AACA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,WAAWD,QAAQ,UAAR,CAAjB;AACA,IAAME,aAAaF,QAAQ,aAAR,CAAnB;AACA,IAAMG,OAAOH,QAAQ,MAAR,CAAb;AACA,IAAMI,SAASJ,QAAQ,UAAR,CAAf;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAMK,MAAMN,SAAZ;;AAEAM,IAAIC,GAAJ,CAAQJ,WAAWK,IAAX,EAAR;;AAEA,IAAIC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,KAA/B;;AAEA;AACAN,IAAIC,GAAJ,CAAQP,QAAQa,MAAR,CAAeC,YAAY,SAA3B,CAAR;;AAGAR,IAAIC,GAAJ,CAAQH,MAAR;;AAEA;AACA;AACAC,OAAOU,SAAP,CAAiBC,IAAjB,GAAwBC,IAAxB,CAA6B,YAAM;AACjCC,UAAQC,GAAR,CAAY,oCAAZ;AACD,CAFD;;AAIA;AACAb,IAAIC,GAAJ,CAAQL,SAASkB,UAAT,EAAR;;AAEA;AACAnB,QAAQ,mBAAR,EAA6BC,QAA7B;;AAEA;AACAI,IAAIe,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIC,IAAJ,CAAS,gBAAT,CAAd;AAAA,CAAb;;AAEAvB,QAAQ,kBAAR,EAA4BK,GAA5B;AACAL,QAAQ,yBAAR,EAAmCK,GAAnC;AACAL,QAAQ,sBAAR,EAAgCK,GAAhC;AACAL,QAAQ,qBAAR,EAA+BK,GAA/B;AACAL,QAAQ,qBAAR,EAA+BK,GAA/B;AACAL,QAAQ,mCAAR,EAA6CK,GAA7C;AACAL,QAAQ,qBAAR,EAA+BK,GAA/B;AACAL,QAAQ,0BAAR,EAAoCK,GAApC;AACAL,QAAQ,oBAAR,EAA8BK,GAA9B;AACAL,QAAQ,4BAAR,EAAsCK,GAAtC;AACAL,QAAQ,4BAAR,EAAsCK,GAAtC;;AAKA;AACAA,IAAImB,GAAJ,CAAQ,IAAR,EAAc,UAAUH,GAAV,EAAeC,GAAf,EAAoB;AAChCA,MAAIG,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB,2BAArB;AACD,CAFD;;AAKA;AACA,IAAIG,SAASrB,IAAIsB,MAAJ,CAAWnB,IAAX,EAAiB,YAAY;AACxC,MAAIoB,OAAOF,OAAOG,OAAP,GAAiBA,OAA5B;AACA,MAAIrB,OAAOkB,OAAOG,OAAP,GAAiBrB,IAA5B;;AAEAS,UAAQC,GAAR,CAAY,+BAAZ,EAA6CU,IAA7C,EAAmDpB,IAAnD;AACD,CALY,CAAb","file":"index.js","sourcesContent":["\nconst express = require('express');\nconst passport = require('passport');\nconst bodyParser = require('body-parser');\nconst cors = require('cors');\nconst models = require('./models')\n// const express = require('express');\n// const passport = require('passport');\n// const bodyParser = require('body-parser');\n// const cors = require('cors');\n// const models = require('./models')\n\n\nconst app = express();\n\napp.use(bodyParser.json());\n\nlet port = process.env.PORT || 34567;\n\n// make express look in the public directory for assets (css/js/img)\napp.use(express.static(__dirname + '/public'));\n\n\napp.use(cors());\n\n// force: true will drop the table if it already exits\n// models.sequelize.sync({ force: true }).then(() => {\nmodels.sequelize.sync().then(() => {\n  console.log('Drop and Resync with {force: true}');\n});\n\n// passport middleware\napp.use(passport.initialize());\n\n// passport config\nrequire('./config/passport')(passport);\n\n//default route\napp.get('/', (req, res) => res.send('Hello my World'));\n\nrequire('./routes/user.js')(app);\nrequire('./routes/create_user.js')(app);\nrequire('./routes/incedent.js')(app);\nrequire('./routes/payment.js')(app);\nrequire('./routes/vendors.js')(app);\nrequire('./routes/vehicles_registration.js')(app);\nrequire('./routes/drivers.js')(app);\nrequire('./routes/super_agents.js')(app);\nrequire('./routes/agents.js')(app);\nrequire('./routes/vehicle_owners.js')(app);\nrequire('./routes/vehicle_top_up.js')(app);\n\n\n\n\n// any routes not specified get sent here\napp.all(\"/*\", function (req, res) {\n  res.status(404).send(\"This route does not exist\");\n});\n\n\n//create a server\nvar server = app.listen(port, function () {\n  var host = server.address().address;\n  var port = server.address().port;\n\n  console.log('App listening at http://%s:%s', host, port);\n});\n"]}